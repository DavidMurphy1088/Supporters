
<!DOCTYPE html>
<html>
<head>
	<title>Display Images</title>
	<script>
		window.onload = function() {
		var images = [
			'd1',
			'r1',
			'd2',
			'r2',
			'r3',
			'd3',
			'd4',
			'r4',
			'd5'
		];
			
		// Create a new table to store the user's selections
      		const userSelections = {};
		var container = document.getElementById("container");

		// Get a reference to the vote table element
      		const voteTable = document.getElementById('vote-table').getElementsByTagName('tbody')[0];
			
		for (var i = 0; i < images.length; i++) {
		    // Create a new row element
		    var newRow = document.createElement("tr");

		    // Create new cell elements and set their text content
		    var cell1 = document.createElement("td");
		    //cell1.textContent = images[i];
		    var cell2 = document.createElement("td");
		    //cell2.textContent = "cell1 "+String(i);
		    var cell3 = document.createElement("td");
		    //cell3.textContent = "cell2 "+String(i);

		    // Append the cell elements to the new row element
		    newRow.appendChild(cell1);
		    newRow.appendChild(cell2);
		    newRow.appendChild(cell3);

		    // Append the new row element to the table
		    voteTable.appendChild(newRow);

			//console.log("===>loop"+String(i)); 
			var image = new Image();
			image.src = image.src = 'images/'+images[i]+'.png';
			//image.width = 250;
			image.height = 400;
			container.appendChild(image);
			
			var smallImage = new Image();
			smallImage.src = image.src = 'images/'+images[i]+'.png';
			smallImage.width = 60;
			smallImage.height = 90;
			//container.appendChild(image)
			cell1.appendChild(smallImage)
			
			var hr = document.createElement("br");
			container.appendChild(hr);

			// form with options 
			var heading = document.createElement("h3");
			heading.textContent = "Does this person support or ppposes the indictment";
			container.appendChild(heading);

			var form = document.createElement("form");
			var id = document.createElement("label");
			id.textContent = String(i)
			
			var supports = document.createElement("input");
			supports.type = "radio";
			supports.name = "opinion" + i;
			supports.value = "supports";
			supports.id = "sup_" + i;
			var supportsLabel = document.createElement("label");
			supportsLabel.setAttribute("for", "supports" + i);
			supportsLabel.textContent = "Supports";
			
			var opposes = document.createElement("input");
			opposes.type = "radio";
			opposes.name = "opinion" + i;
			opposes.value = "opposes";
			opposes.id = "opp_" + i;
			var opposesLabel = document.createElement("label");
			opposesLabel.setAttribute("for", "opposes" + i);
			opposesLabel.textContent = "Opposes";
			
			// Add an event listener to the form to save the user's selection
			
			form.addEventListener('change', event => {
			  var id = event.target.id.substring(4, 5)
			  var idName = event.target.id.substring(0, 3)
			  console.log("id "+event.target.id + " ==>" + id + " " + idName);
			  // Save the user's selection in the userSelections object
			  // userSelections[image.src] = event.target.value;

			  // Create a new row in the vote table to display the user's selection
			  // const row = voteTable.insertRow(-1);
			  var r = parseInt(id);
			  var row = voteTable.rows[r];
			  console.log("id R==" + r);
				
			  const cell0 = row.cells[0]
			  //cell0.textContent = image.src
			  const cell1 = row.cells[1]
			  //cell1.textContent = event.target.name = ;
			  // = idName = "sup" ? "Supports" : "Does Not Support"; 
			  if (idName === "sup") {
			      cell1.textContent = "Supports"
			      var icon = new Image();
			      icon.src = image.src = "images/magaHat.png";
			      icon.width = 30;
			      icon.height = 30;
			      cell1.appendChild(icon)
			  }
		          else {
			    cell1.textContent = "No Support"
		          }
			});
			
			form.appendChild(supports);
			form.appendChild(supportsLabel);
			form.appendChild(opposes);
			form.appendChild(opposesLabel);
			container.appendChild(form);

			container.appendChild(hr);

		}
		/*
		var videoLink = document.createElement("a");
		videoLink.href = "https://drive.google.com/file/d/18_Bgxq-KGzEO4DvRBORnp4amy1BhTD6Y/view?start=2&end=4&usp=sharing";
		//https://drive.google.com/file/d/18_Bgxq-KGzEO4DvRBORnp4amy1BhTD6Y/view?start=2&end=4&usp=sharing
		//<a href="https://drive.google.com/file/d/18_Bgxq-KGzEO4DvRBORnp4amy1BhTD6Y/view?start=2&end=4&usp=sharing">Watch Video</a>
		videoLink.innerHTML = "Watch Video";
		container.appendChild(videoLink);
		*/
	};
	</script>
	
	<script>
		function validateForm() {
			var option1 = document.getElementById("option1");
			var option2 = document.getElementById("option2");
			if (option1.checked || option2.checked) {
				return true;
			} else {
				alert("Please choose an option.");
				return false;
			}
		}
	</script>
</head>
<body>
	<h1>Republican or Democrat?</h1>
	
	<br>For each person listed below, decide if they support the upcoming indictment of Trump or not.
	<br>When all your answers are submitted you can watch the person's comments to see if you were correct.
	
	<form id="submitForm" style="width: 400px; border: 1px solid black;">
	  <!--
	  //<label for="nameInput">Name:</label>
	  //<input type="text" id="nameInput" name="name"><br>

	  //<label for="emailInput">Email:</label>
	  //<input type="email" id="emailInput" name="email"><br>
	  -->
	  <br>Submit your answers...
	  <br>
	  <button type="submit">Submit</button>
	</form>
	
	<table id="vote-table">
		<thead>
		<tr>
		  <th></th>
		  <th>Supports</th>
		  <th>Correct</th>
		</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
	
	<script>
	  const form = document.getElementById("submitForm");
	  form.addEventListener("submit", function(event) {
	    event.preventDefault();
	    const voteTable = document.getElementById('vote-table').getElementsByTagName('tbody')[0];
			
	    for (var i = 0; i < images.length; i++) {
	    }
	    const name = document.getElementById("nameInput").value;
	    const email = document.getElementById("emailInput").value;
	    console.log("Name: " + name + ", Email: " + email);
	    // Your code to handle the form data goes here
	  });
	</script>

	<br><br>
	
	<div id="container"></div>
</body>
</html>
